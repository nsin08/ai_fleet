# Runbook: Local Container Development

**Date:** 2026-02-18  
**Scope:** Local setup for container-first AI Fleet development

## Purpose

Provide a standard workflow to boot the stack locally with containers as the default execution mode.

## Planned Services

- `web`: frontend dashboard
- `api`: backend APIs + replay engine
- `db`: PostgreSQL datastore
- `ollama`: local AI provider

## Prerequisites

- Docker Desktop or compatible container runtime
- Git
- Optional: Node.js and pnpm for host debugging

## Standard Workflow (Target)

1. Clone repository and checkout working branch.
2. Start stack using compose command defined by repo root.
3. Verify services are healthy:
- `web` HTTP endpoint available
- `api` health endpoint available
- database accepting connections
4. Apply schema migration:
- `psql "$DATABASE_URL" -f db/migrations/0001_init.sql`
5. Load seed data into database (seed job/script).
6. Set demo mode (`replay` or `live`) and verify telemetry updates.

## Validation Checklist

- Containers start without manual patching
- Database contains seeded master and telemetry data
- Replay can be started and reset deterministically
- Live ingestion from emitter containers updates map and events
- Alerts generated by replay/rules are visible through API

## Failure Handling

- If `db` fails startup: inspect volume and init logs; recreate local volume if schema drift is confirmed.
- If `api` cannot connect to `db`: verify service DNS names and environment variables in compose file.
- If replay does not emit updates: check replay scheduler logs and scenario run records.
